<!doctype>
<html>
<head>
    <meta charset='utf-8'></meta>
    <script>
        function refreshPrice(data){
            var p=document.getElementById("test-jsonp");
            p.innerHTML="当前价格："+
                data['0000001'].name+':'+data['0000001'].price
        }

        function getPrice(){
            var js=document.createElement('script');
            var head=document.getElementsByTagName("head")[0];
            js.src= 'http://api.money.126.net/data/feed/0000001,1399001?callback=refreshPrice';
            if(head.lastChild.src===js.src){
                head.removeChild(head.lastChild);
                head.appendChild(js);
            }else{
                head.appendChild(js);
            }
            alert('n_child: '+head.children.length)
        }
    </script>
</head>

<body>
<p id="test-jsonp">here</p>
<button type='button' onclick=getPrice()>refresh</button>
</body>
</html>